---
layout: article
title: よくある正規表現を解読してみる
tags: 正規表現, JavaScript
aside:
  toc: true
---

# この記事について

正規表現は必要な時にコピペして使うことが多いですが、たまにはきちんと読み解いてみようと思いました。

正規表現の勉強方法として、

- ユースケースから解読すると理解しやすい
- 同じようなパターンも沢山見てると覚える
- 一見複雑なパターンでも、部分ごとに区切ってみると理解しやすい

という特徴がわかったので、とにかく色々解読しようと思いました。
その時のメモをここに書きます。
これがどなたの役にたてば嬉しいです。

# そもそも正規表現とは

以下の説明がとてもわかりやすいです。

> 正規表現とは指定した条件に一致する複数の文字列を一つのパターンで表現する方法です。指定する条件は例えば「アルファベットと数値からなる 5 文字の文字列」や「末尾が ing で終わる文字列」など目的に合わせて条件を設定します。

参考:
[Let's プログラミング -正規表現とは-](https://www.javadrive.jp/regex-basic/meta/index1.html)

正規表現の概要については以下のサイトに解説付きで載っています。

参考:
[サルにもわかる正規表現入門](https://userweb.mnet.ne.jp/nakama/)

# 解読した正規表現

## 郵便番号

### 郵便番号(ハイフンなし)

```js
const regex = /^\d{7}$/;
console.log(regex.test("1234567"));
```

- 0〜9 の数字 7 桁で始まり、かつそれで終わる

### 郵便番号(ハイフンあり)

```js
const regex = /^[0-9]{3}-[0-9]{4}$/;
console.log(regex.test("111-1111"));
// ture
```

- `^[0-9]{3}` : 0〜9 の数字 3 桁から始まる
- `-` : ハイフン(ただの文字列)
- `[0-9]{4}`: 0〜9 の数字 4 桁で終わる

### 郵便番号(ハイフンありまたはなし)

```js
const regex = /^[0-9]{3}-?[0-9]{4}$/;
console.log(regex.test("123-4567"));
console.log(regex.test("1234567"));
```

- `^[0-9]{3}` : 0〜9 の数字 3 桁から始まる
- `-?` : ハイフンありまたはなし
- `[0-9]{4}`: 0〜9 の数字 4 桁で終わる}

### 郵便番号(郵便マーク付き)

```js
const regex = /^〒\s[0-9]{3}-[0-9]{4}$/;
console.log(regex.test("〒 111-1111"));
```

- `^〒`: 〒マークではじまる
- `\s`: スペース 1 つ
- `^[0-9]{3}` : 0〜9 の数字 3 桁から始まる
- `-` : ハイフン(ただの文字列)
- `[0-9]{4}`: 0〜9 の数字 4 桁で終わる)

参考:
[日本の郵便番号を正規表現で検出する](https://www.ipentec.com/document/regularexpression-postal-code-detect)

## 携帯番号

### 携帯番号(ハイフン)

```js
const regex = /^0[789]0-[0-9]{4}-[0-9]{4}$/;
console.log(regex.test("080-1234-5678"));
```

### 携帯番号(カッコまたはハイフンまたはなし)

### IP アドレス

### URL
